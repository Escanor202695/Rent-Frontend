{"version":3,"file":"grid.umd.js","sources":["../src/consts.ts","../src/Grid.tsx","../src/grids/MasonryGrid.tsx","../src/grids/JustifiedGrid.tsx","../src/grids/FrameGrid.tsx","../src/grids/PackingGrid.tsx"],"sourcesContent":["\nexport const REACT_GRID_EVENT_MAP = {\n  \"contentError\": \"onContentError\",\n  \"renderComplete\": \"onRenderComplete\",\n} as const;\n\nexport const REACT_GRID_EVENTS = [\n  \"onContentError\",\n  \"onRenderComplete\",\n] as const;\nexport const REACT_GRID_PROPS = [\n  \"tag\",\n  ...REACT_GRID_EVENTS,\n] as const;\n","/**\n * egjs-grid\n * Copyright (c) 2021-present NAVER Corp.\n * MIT license\n */\nimport * as React from \"react\";\nimport VanillaGrid, { withGridMethods, GridOptions, GridMethods, GridFunction } from \"@egjs/grid\";\nimport { ReactGridProps } from \"./types\";\nimport { REACT_GRID_PROPS, REACT_GRID_EVENT_MAP } from \"./consts\";\n\nexport abstract class Grid<T extends GridOptions>\n  extends React.PureComponent<T & ReactGridProps & { [key: string]: any }> {\n  public static GridClass: GridFunction;\n  @withGridMethods\n  private _grid!: VanillaGrid;\n  private _containerRef = React.createRef<HTMLDivElement>();\n  public render() {\n    const attributes: { [key: string]: any } = {};\n    const props = this.props;\n    const GridClass = (this.constructor as typeof Grid).GridClass;\n    const defaultOptions = GridClass.defaultOptions;\n    const Tag = props.tag as any || \"div\";\n\n    for (const name in props) {\n      if (name in defaultOptions || REACT_GRID_PROPS.indexOf(name as any) > -1) {\n        continue;\n      }\n      attributes[name] = props[name];\n    }\n    return <Tag ref={this._containerRef} {...attributes}>\n      {this.props.children}\n    </Tag>;\n  }\n  public componentDidMount() {\n    const GridClass = (this.constructor as typeof Grid).GridClass;\n    const defaultOptions = GridClass.defaultOptions;\n    const options: Partial<GridOptions> = {};\n    const props = this.props;\n\n    for (const name in defaultOptions) {\n      if (name in props) {\n        (options as any)[name] = (props as any)[name];\n      }\n    }\n\n    const grid = new GridClass(this._containerRef.current!, options);\n\n    for (const eventName in REACT_GRID_EVENT_MAP) {\n      const reactEventName = (REACT_GRID_EVENT_MAP as any)[eventName];\n\n      grid.on(eventName as any, (e: any) => {\n        const callback = props[reactEventName];\n\n        callback && callback({...e});\n      });\n    }\n    grid.syncElements();\n\n    this._grid = grid;\n  }\n  public componentDidUpdate() {\n    const GridClass = (this.constructor as typeof Grid).GridClass;\n    const propertyTypes = GridClass.propertyTypes;\n    const props = this.props;\n    const grid = this._grid;\n\n    for (const name in propertyTypes) {\n      if (name in props) {\n        (grid as any)[name] = (props as any)[name];\n      }\n    }\n    this._grid.syncElements();\n  }\n  public componentWillUnmount() {\n    this._grid.destroy();\n  }\n}\nexport interface Grid<T extends GridOptions> extends GridMethods<Grid<T>> { }\n","import {\n  MasonryGrid as VanillaMasonryGrid,\n  MasonryGridOptions,\n} from \"@egjs/grid\";\nimport { Grid } from \"../Grid\";\n\nexport class MasonryGrid extends Grid<MasonryGridOptions> {\n  public static GridClass = VanillaMasonryGrid;\n}\n","import {\n  JustifiedGrid as VanillaJustifiedGrid,\n  JustifiedGridOptions,\n} from \"@egjs/grid\";\nimport { Grid } from \"../Grid\";\n\nexport class JustifiedGrid extends Grid<JustifiedGridOptions> {\n  public static GridClass = VanillaJustifiedGrid;\n}\n","import {\n  FrameGrid as VanillaFrameGrid,\n  FrameGridOptions,\n} from \"@egjs/grid\";\nimport { Grid } from \"../Grid\";\n\nexport class FrameGrid extends Grid<FrameGridOptions> {\n  public static GridClass = VanillaFrameGrid;\n}\n","import {\n  PackingGrid as VanillaPackingGrid,\n  PackingGridOptions,\n} from \"@egjs/grid\";\nimport { Grid } from \"../Grid\";\n\nexport class PackingGrid extends Grid<PackingGridOptions> {\n  public static GridClass = VanillaPackingGrid;\n}\n"],"names":["REACT_GRID_EVENT_MAP","REACT_GRID_EVENTS","REACT_GRID_PROPS","__spreadArray","__extends","_this","React","attributes","props","GridClass","constructor","defaultOptions","Tag","tag","name","indexOf","ref","_containerRef","children","options","grid","current","eventName","reactEventName","on","e","callback","syncElements","_grid","propertyTypes","destroy","__decorate","withGridMethods","MasonryGrid","VanillaMasonryGrid","Grid","JustifiedGrid","VanillaJustifiedGrid","FrameGrid","VanillaFrameGrid","PackingGrid","VanillaPackingGrid"],"mappings":"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"}